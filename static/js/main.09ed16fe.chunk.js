(this["webpackJsonpneed-for-drive"]=this["webpackJsonpneed-for-drive"]||[]).push([[0],{36:function(e,t,a){e.exports=a.p+"static/media/slide_1.fe2f03dd.jpg"},37:function(e,t,a){e.exports=a.p+"static/media/slide_2.b73b2bee.jpg"},38:function(e,t,a){e.exports=a.p+"static/media/slide_3.5dc85ddc.jpg"},39:function(e,t,a){e.exports=a.p+"static/media/slide_4.085022d6.jpg"},40:function(e,t,a){e.exports=a.p+"static/media/Geo.f2245ebb.svg"},57:function(e,t,a){e.exports=a(87)},62:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(35),i=a.n(r),o=(a(62),a(18)),l=a(29),s=a(30),m=a(31),d=a(32),u=a(89),p=a(90);a(63),a(64),a(65),a(66),a(67);var h=function(e){var t=e.title,a=e.type,n=e.action,r=e.disable;return c.a.createElement("button",{type:"button",className:"button "+a,onClick:n,disabled:r||!1},t)};function f(e){var t=e.img,a=e.head,n=e.text,r=e.color,i={backgroundImage:"url(".concat(t,")")};return c.a.createElement("div",{className:"slide",style:i},c.a.createElement("span",{className:"slide__content"},c.a.createElement("h1",{className:"slide__content__heading"},a),c.a.createElement("p",{className:"slide__content__text"},n),c.a.createElement(h,{title:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",type:"slide__content__btn ".concat(r)})))}var _=a(36),E=a.n(_),g=a(37),b=a.n(g),v=a(38),N=a.n(v),y=a(39),k=a.n(y);o.a.use([l.a,s.a,m.a,d.a]);var I=[{head:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430",text:"\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445",img:E.a,color:"default"},{head:"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430",text:"\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",img:b.a,color:"aqua"},{head:"\u0411\u0435\u043d\u0437\u0438\u043d",text:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442",img:N.a,color:"red"},{head:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",text:"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e",img:k.a,color:"violet"}];var C=function(){var e=I.map((function(e,t){return c.a.createElement(u.a,{key:e.text.length*t},c.a.createElement(f,{head:e.head,text:e.text,img:e.img,key:t,color:e.color}))}));return c.a.createElement(p.a,{loop:!0,slidesPerView:1,navigation:!0,pagination:{clickable:!0}},e)},j=a(12),O=a(13),S=a(15),x=a(14),w=a(40),M=a.n(w),T=(a(68),a(11)),F=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){return c.a.createElement("header",{className:"header"},c.a.createElement(T.b,{className:"header__site-name",to:"/"},"Need for drive"),c.a.createElement("span",{className:"header__geolocation"},c.a.createElement("img",{className:"header__geolocation__icon",src:M.a,alt:"GeoLocation"}),c.a.createElement("p",null,"\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440")))}}]),a}(c.a.Component);a(73);function R(){return c.a.createElement("div",{className:"main-page__content__info-block"},c.a.createElement("h1",{className:"main-page__content__info-block__heading"},"\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433",c.a.createElement("br",null),c.a.createElement("span",{className:"main-page__content__info-block__heading__eng"},"Need for drive")),c.a.createElement("p",{className:"main-page__content__info-block__text"},"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"),c.a.createElement(T.b,{className:"button fake-btn big-btn",to:"/order-page/"},"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))}a(74);function D(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("span",{className:"footer__copyright"},"\xa9 2016-2020 \xabNeed for drive\xbb"),c.a.createElement("a",{href:"tel: 84952342244",className:"footer__phone-number"},"8 (495) 234-22-44"))}var P=function(){return c.a.createElement("div",{className:"main-page"},c.a.createElement("div",{className:"main-page__content"},c.a.createElement(F,null),c.a.createElement(R,null),c.a.createElement(D,null)),c.a.createElement(C,null))},A=a(16);a(75);function L(e){var t=e.action,a=e.active;return c.a.createElement("button",{className:"nav-btn",onClick:t},c.a.createElement("span",{className:"nav-btn__toggle"+(a?" active":"")},c.a.createElement("span",{className:"nav-btn__bar__wrapper"},c.a.createElement("span",{className:"nav-btn__bar"}))))}a(76);var W=function(){var e=Object(n.useState)(!1),t=Object(A.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(!1),o=Object(A.a)(i,2),l=o[0],s=o[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"nav-bar"},c.a.createElement(L,{active:a,action:function(){return r(!a)}}),c.a.createElement("button",{className:"nav-btn__lang"+(a?" active":""),onClick:function(){return s(!l)}},l?"\u0420\u0443\u0441":"Eng")),c.a.createElement("div",{className:"nav-menu"+(a?"  active":"")},c.a.createElement("nav",{className:"nav-menu__link-list"},["\u041f\u0430\u0440\u043a\u043e\u0432\u043a\u0430","\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430","\u0411\u0435\u043d\u0437\u0438\u043d","\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"].map((function(e,t){return c.a.createElement("a",{key:t,className:"nav-menu__link-list__link",href:"#"},e)})),c.a.createElement("span",{className:"nav-menu__link-list__social-block"},["telegram","facebook","instagram"].map((function(e,t){return c.a.createElement("span",{key:t,className:"icon icon-".concat(e)})}))))))},H=a(4),q=a(17),z=a(7);a(77),a(78);var G=function(e){var t=e.name,a=e.type,n=e.placeholder,r=e.onChangeAction,i=e.value,o=e.defaultChecked,l=e.checked,s=e.description,m=e.list,d=e.dateFrom,u=e.dateTo,p=e.disabled,h=e.delAction;return"text"===a||"datetime-local"===a||"select"===a?c.a.createElement("label",{className:"label-for-text-input"},s,c.a.createElement("input",{autoComplete:"off",className:"textInput",type:a,min:"datetime-local"===a?"dateTo"===t&&0!==d?"".concat(d):"".concat((new Date).getFullYear(),"-").concat("".concat((new Date).getMonth()+1).padStart(2,0),"-").concat("".concat((new Date).getDate()).padStart(2,0),"T").concat("".concat((new Date).getHours()).padStart(2,0),":").concat("".concat((new Date).getMinutes()).padStart(2,0)):"",max:"datetime-local"===a?"dateTo"===t&&0!==d?"".concat(new Date(d).getFullYear(),"-").concat("".concat(new Date(d).getMonth()+2).padStart(2,0),"-").concat("".concat(new Date(d).getDate()).padStart(2,0),"T").concat("".concat(new Date(d).getHours()).padStart(2,0),":").concat("".concat(new Date(d).getMinutes()).padStart(2,0)):"".concat(u):"",required:"required",name:t,placeholder:n,onChange:r,value:i,list:m,disabled:p}),"text"===a?c.a.createElement("button",{name:t,value:"",onClick:h||r,className:"reset-btn",title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u043b\u0435"},"\xd7"):""):"radio"===a?c.a.createElement("label",{className:"radio-btn__description"},c.a.createElement("input",{className:"radio-btn",type:"radio",name:t,value:i,onChange:r,checked:l,defaultChecked:o}),c.a.createElement("span",null,s)):c.a.createElement("label",{className:"checkbox__description"},c.a.createElement("input",{className:"checkbox",type:"checkbox",name:t,value:i,onChange:r,checked:l}),c.a.createElement("span",null,s))},J=a(24),U=a(22),$=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).getMarks=n.getMarks.bind(Object(z.a)(n)),n.onLoadMap=n.onLoadMap.bind(Object(z.a)(n)),n.state={cityMarks:[],pointMarks:[]},n.ymaps=null,n}return Object(O.a)(a,[{key:"getMarks",value:function(e){var t=this;this.props["cityMarks"===e?"cities":"points"].map((function(a){return t.ymaps.geocode("cityMarks"===e?a.name:"".concat(a.cityId.name," ").concat(a.address),{json:!0,results:1}).then((function(a){var n=a.GeoObjectCollection.featureMember[0].GeoObject;t.setState((function(t){return Object(q.a)({},e,[].concat(Object(J.a)(t[e]),[n]))}))}))}))}},{key:"getPointName",value:function(e){return e.replace(/(\u043f\u0440\u043e\u0441\u043f\u0435\u043a\u0442|\u0443\u043b\u0438\u0446\u0430|[\.,])/gi,"").replace(/(\d+)(\u043a\.?)(\d+)/i,"$1, \u043a\u043e\u0440\u043f.$3")}},{key:"onLoadMap",value:function(e){this.ymaps=e,this.getMarks("pointMarks"),this.getMarks("cityMarks")}},{key:"placemarkHandeler",value:function(e){var t=this.getPointName(e.name).trim();this.props.action("","pointId",t),this.map.setCenter(e.Point.pos.split(" ",2).reverse(),17,{checkZoomRange:!0})}},{key:"cityHandler",value:function(e){this.props.action("","cityId",e.name),this.map.setCenter(e.Point.pos.split(" ",2).reverse(),10,{checkZoomRange:!0})}},{key:"render",value:function(){var e=this,t=this.props,a=t.point,n=t.city,r=this.state,i=r.pointMarks,o=r.cityMarks,l=i.find((function(t){return e.getPointName(t.name).trim()===a})),s=o.find((function(e){return e.name===n.name}));return c.a.createElement(U.d,{query:{ns:"use-load-option",apikey:"74a51f5a-db87-407e-a41b-db660460a9fb"},className:"map"},c.a.createElement(U.b,{instanceRef:function(t){return e.map=t},width:"100%",height:"100%",onLoad:function(t){e.onLoadMap(t)},defaultState:{center:[54.75,49.57],zoom:2},modules:["geolocation","geocode","geoObject.addon.hint"],state:a&&l?{center:l.Point.pos.split(" ",2).reverse(),zoom:17}:n.id&&s?{center:s.Point.pos.split(" ",2).reverse(),zoom:10}:{center:[54.75,49.57],zoom:5}},!n.id&&o.map((function(t,a){return c.a.createElement(U.a,{key:t.Point.pos,onClick:e.cityHandler.bind(e,t),geometry:[t.Point.pos.split(" ",2).reverse(),2e4],options:{interactiveZIndex:!0,fillColor:"#0ec26194",strokeColor:"#0ec261",strokeOpacity:.9,strokeWidth:1},properties:{hintContent:t.request}})})),n.id&&i.map((function(t,a){return t.description.split(", ",1)[0]===n.name?c.a.createElement(U.c,{key:t.Point.pos,onClick:e.placemarkHandeler.bind(e,t),geometry:t.Point.pos.split(" ",2).reverse(),options:{preset:"islands#autoCircleIcon",iconColor:"rgb(14 194 97)",iconShadow:!0},properties:{iconCaption:e.getPointName(t.name)}}):""}))))}}]),a}(c.a.Component);a(79);function X(){return c.a.createElement("div",{className:"loading-window"},c.a.createElement("div",{className:"car"},c.a.createElement("div",{className:"strike"}),c.a.createElement("div",{className:"strike strike2"}),c.a.createElement("div",{className:"strike strike3"}),c.a.createElement("div",{className:"strike strike4"}),c.a.createElement("div",{className:"strike strike5"}),c.a.createElement("div",{className:"car-detail spoiler"}),c.a.createElement("div",{className:"car-detail back"}),c.a.createElement("div",{className:"car-detail center"}),c.a.createElement("div",{className:"car-detail center1"}),c.a.createElement("div",{className:"car-detail front"}),c.a.createElement("div",{className:"car-detail wheel"}),c.a.createElement("div",{className:"car-detail wheel wheel2"})))}var Z=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={cities:[],points:[]},n.handleChange=n.handleChange.bind(Object(z.a)(n)),n.controller=new AbortController,n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.api,n=t.headers;fetch("".concat(a,"city"),{headers:n,signal:this.controller.signal}).then((function(e){return e.json()})).then((function(t){var a=t.data;e.setState({cities:a})})).catch((function(e){return console.error("ERROR",e)})),fetch("".concat(a,"point/"),{headers:n,signal:this.controller.signal}).then((function(e){return e.json()})).then((function(t){var a=t.data;e.setState({points:a})})).catch((function(e){return console.error("ERROR",e)}))}},{key:"componentWillUnmount",value:function(){this.controller.abort()}},{key:"handleChange",value:function(e,t,a){var n=this.state,c=n.cities,r=n.points,i=this.props.getLocation,o=e?e.target.value:a,l="cityId"===t?c.filter((function(e){return e.name===o})):r.filter((function(e){return e.address===o}));i(t,l[0]?l[0]:{name:o,id:""})}},{key:"render",value:function(){var e=this,t=this.props,a=t.city,n=t.point,r=t.action;return c.a.createElement("div",{className:"step-one"},c.a.createElement("form",{className:"step-one__form"},c.a.createElement(G,{name:"cityId",description:"\u0413\u043e\u0440\u043e\u0434",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434",type:"text",list:"city",onChangeAction:function(t){return e.handleChange(t,"cityId")},value:a.name,delAction:r}),c.a.createElement("datalist",{id:"city"},this.state.cities.map((function(e,t){return n.id?e.name===n.cityId.name?c.a.createElement("option",{key:t,id:e.id,value:e.name}):"":c.a.createElement("option",{key:t,id:e.id,value:e.name})}))),c.a.createElement("br",null),c.a.createElement(G,{name:"point",description:"\u041f\u0443\u043d\u043a\u0442 \u0412\u044b\u0434\u0430\u0447\u0438",placeholder:a.name&&a.id&&this.state.points.find((function(e){return e.cityId.name===a.name}))?"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u0447\u043a\u0443 \u0432\u044b\u0434\u0430\u0447\u0438":"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043f\u0443\u043d\u043a\u0442\u043e\u0432",disabled:!(a.name&&a.id&&this.state.points.find((function(e){return e.cityId.name===a.name}))),type:"text",list:"point",onChangeAction:function(t){return e.handleChange(t,"pointId")},value:n.name}),c.a.createElement("datalist",{id:"point"},this.state.points.map((function(e,t){return e.cityId.name===a.name?c.a.createElement("option",{key:t,id:e.id,value:e.address},e.name):""})))),c.a.createElement("div",{className:"map-block"},c.a.createElement("p",{className:"map-block__description"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435:"),this.state.cities.length&&this.state.points.length&&c.a.createElement("div",{className:"map-block__map-container"},c.a.createElement($,{action:this.handleChange,cities:this.state.cities,points:this.state.points,city:a,point:n.address}))||c.a.createElement("div",{className:"loader-container"},c.a.createElement(X,null))))}}]),a}(c.a.Component);a(80);function B(e){var t=e.title,a=e.costMin,n=e.costMax,r=e.pic,i=e.car,o=e.getCar,l=e.carId,s=e.display;return c.a.createElement("label",{className:"car-card",style:{display:s}},c.a.createElement("input",{className:"car-card__radio-btn",type:"radio",name:"car",value:t,onChange:o.bind(this,"carId",l),checked:t===i?"checked":""}),c.a.createElement("div",{className:"car-card__info-card"},c.a.createElement("h2",{className:"car-card__info-card__head"},t),c.a.createElement("p",{className:"car-card__info-card__cost"},a," - ",n,"\u20bd"),c.a.createElement("img",{crossOrigin:"anonymous",referrerPolicy:"origin",className:"car-card__info-card__img",src:"http://api-factory.simbirsoft1.com".concat(r),alt:"car"})))}a(81);var Y=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={category:"all",cars:[]},n.handleChange=n.handleChange.bind(Object(z.a)(n)),n}return Object(O.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getCars(),fetch("".concat(this.props.api,"car"),{headers:this.props.headers}).then((function(e){return e.json()})).then((function(t){var a=t.data;e.setState({cars:a})})).catch((function(e){return console.error("ERROR",e)}))}},{key:"getCars",value:function(){var e=this;return this.state.cars.map((function(t){return c.a.createElement(B,{display:"all"===e.state.category||e.state.category===t.categoryId.name?"":"none",action:e.props.action,getCar:e.props.actionCar,title:t.name,costMin:t.priceMin,costMax:t.priceMax,carId:t,pic:t.thumbnail.path,key:t.id,car:e.props.currentCar})}))}},{key:"handleChange",value:function(e){this.setState({category:e.target.value})}},{key:"render",value:function(){return c.a.createElement("div",{className:"car-selector"},c.a.createElement("form",{className:"car-selector__category-form",onChange:this.handleChange},[{value:"all",check:!0,description:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438"},{value:"\u042d\u043a\u043e\u043d\u043e\u043c",check:!1,description:"\u042d\u043a\u043e\u043d\u043e\u043c"},{value:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c",check:!1,description:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c"}].map((function(e,t){return c.a.createElement(G,{key:t,type:"radio",name:"model",value:e.value,defaultChecked:e.check,description:e.description})}))),c.a.createElement("div",{className:"car-selector__container"},c.a.createElement("form",{className:"car-selector__container__car-list"},this.getCars())))}}]),a}(c.a.Component);a(82);var V=function(e){var t=e.action,a=e.actionClick,r=e.currentColor,i=e.colors,o=e.options,l=e.tariff,s=e.dateFrom,m=e.dateTo,d=e.api,u=e.headers,p=e.actionInfo,h=Object(n.useState)([]),f=Object(A.a)(h,2),_=f[0],E=f[1];return Object(n.useEffect)((function(){fetch("".concat(d,"rate"),{headers:u}).then((function(e){return e.json()})).then((function(e){var t=e.data;E(t),l||p("rateId",t[0])})).catch((function(e){return console.error("ERROR",e)}))}),[]),c.a.createElement("div",{className:"step-three"},c.a.createElement("form",{className:"step-three__form"},c.a.createElement("fieldset",{className:"step-three__form__color-selector"},c.a.createElement("legend",null,"\u0426\u0432\u0435\u0442"),c.a.createElement("br",null),["\u041b\u044e\u0431\u043e\u0439"].concat(Object(J.a)(i)).map((function(e,a){return c.a.createElement(G,{key:a,type:"radio",name:"currentColor",value:e,checked:r===e,description:e,onChangeAction:t})}))),c.a.createElement("fieldset",{className:"step-three__form__date-selector"},c.a.createElement("legend",null,"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"),c.a.createElement(G,{dateTo:m,onChangeAction:t,name:"dateFrom",description:"\u0421",type:"datetime-local",value:s}),c.a.createElement("br",null),c.a.createElement(G,{dateFrom:s,onChangeAction:t,name:"dateTo",description:"\u0414\u043e",value:m,type:"datetime-local"})),c.a.createElement("fieldset",{className:"step-three__form__tariff"},c.a.createElement("legend",null,"\u0422\u0430\u0440\u0438\u0444"),c.a.createElement("br",null),_.map((function(e,t){return c.a.createElement(G,{key:t,type:"radio",checked:l===e.rateTypeId.name,description:"".concat(e.rateTypeId.name,",\n               ").concat(e.price,"\u20bd/").concat(e.rateTypeId.unit),onChangeAction:function(){return p("rateId",e)}})}))),c.a.createElement("fieldset",{className:"step-three__form__additional"},c.a.createElement("legend",null,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"),c.a.createElement("br",null),[{name:"isFullTank",description:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a, 500\u0440"},{name:"isNeedChildChair",description:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e, 200\u0440"},{name:"isRightWheel",description:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c, 1600\u0440"}].map((function(e,t){return c.a.createElement(G,{key:t,type:"checkbox",name:e.name,checked:o[t],description:e.description,onChangeAction:a})})))))};a(83);var K=function(e){var t=e.carId,a=e.dateFrom,n=t.name,r=t.number,i=t.tank,o=t.thumbnail;return c.a.createElement("div",{className:"step-four"},c.a.createElement("div",{className:"step-four__info-block"},c.a.createElement("h1",{className:"step-four__info-block__brand"},n),c.a.createElement("p",{className:"step-four__info-block__number"},r?r.replace(/(\d{3})/," $1 "):"A 000 AA"),c.a.createElement("p",{className:"step-four__info-block__fuel"},c.a.createElement("span",null,"\u0422\u043e\u043f\u043b\u0438\u0432\u043e "),i||"0","%"),c.a.createElement("p",{className:"step-four__info-block__avilable"},c.a.createElement("span",null,"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441 "),new Date(a).toLocaleString("ru",{day:"numeric",month:"numeric",year:"numeric",timezone:"UTC",hour:"numeric",minute:"numeric",second:"numeric"}))),c.a.createElement("div",{className:"step-four__car"},c.a.createElement("img",{crossOrigin:"anonymous",referrerPolicy:"origin",className:"car-card__info-card__img",src:"http://api-factory.simbirsoft1.com".concat(o.path),alt:"car"})))};a(84);function Q(e){var t=e.actionReturn,a=e.data,n=e.getInfo,r=e.orderId,i=Object(H.g)(),o="https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/api/db/",l={"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Content-Type":"application/json"};return c.a.createElement("div",{className:"warning"},c.a.createElement("div",{className:"warning__btns-block"},c.a.createElement("h1",{className:"warning__btns-block__head"},r?"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?"),c.a.createElement("span",null,c.a.createElement(h,{title:r?"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",type:"warn-btn",action:r?function(){fetch("".concat(o,"order/").concat(r),{method:"PUT",headers:l,body:JSON.stringify({orderStatusId:{name:"cancelled",id:"5e26a1f5099b810b946c5d8c"}})}).catch((function(e){return console.error("ERROR",e)})),n("orderStatus","cancelled"),t()}:function(){fetch("".concat(o,"order"),{method:"POST",headers:l,body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){var t=e.data;localStorage.setItem("orderId",t.id),n("orderId",t.id),i.push("/order-page/order/".concat(t.id))})).catch((function(e){return console.error("ERROR",e)}))}}),c.a.createElement(h,{title:r?"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",type:"warn-btn red-btn",action:t}))))}a(85);var ee=function(e){var t=e.params,a=e.action,r=e.getPrice,i=e.orderData,o=e.api,l=e.getInfo,s=Object(n.useState)(!1),m=Object(A.a)(s,2),d=m[0],u=m[1],p=t.currentStep,f=t.cityId,_=t.pointId,E=t.carId,g=t.currentColor,b=t.dateFrom,v=t.dateTo,N=t.isFullTank,y=t.isNeedChildChair,k=t.isRightWheel,I=t.rateId,C=t.price,j=t.color,O=t.id,S=t.orderStatusId,x=E.name,w=Object(H.g)(),M=(new Date(v)-new Date(b))/6e4,T=Math.trunc(M/60);return c.a.createElement(c.a.Fragment,null,d&&c.a.createElement(Q,{orderId:O,api:o,actionReturn:function(){return u(!d)},data:i,getInfo:l}),c.a.createElement("div",{className:"total"},c.a.createElement("h1",{className:"total__head"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"),c.a.createElement("div",{className:"total__list"},f.id&&_.id&&c.a.createElement("p",{className:"total__list__item"},c.a.createElement("span",{className:"text"},"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438"),c.a.createElement("span",{className:"dots"}),c.a.createElement("span",{className:"text__dinamic"},f.name,c.a.createElement("br",null)," ",_.name)),x&&c.a.createElement("p",{className:"total__list__item"},c.a.createElement("span",{className:"text"},"\u041c\u043e\u0434\u0435\u043b\u044c")," ",c.a.createElement("span",{className:"dots"}),c.a.createElement("span",{className:"text__dinamic"},x)),(j||x&&g)&&c.a.createElement("p",{className:"total__list__item"},c.a.createElement("span",{className:"text"},"\u0426\u0432\u0435\u0442")," ",c.a.createElement("span",{className:"dots"}),c.a.createElement("span",{className:"text__dinamic"},j||g)),0!==b&&0!==v&&c.a.createElement("p",{className:"total__list__item"},c.a.createElement("span",{className:"text"},"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b"),c.a.createElement("span",{className:"dots"}),c.a.createElement("span",{className:"text__dinamic"},function(){function e(e,t){var a=e%100,n=9<a&&a<21?t[0]:1<a%10&&a%10<5?t[1]:a%10===1?t[3]:t[0];return"".concat(e," ").concat(n," ")}return"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u043e"===I.rateTypeId.name?"".concat(e(T,["\u0447\u0430\u0441\u043e\u0432","\u0447\u0430\u0441\u0430","\u0447\u0430\u0441"])," ").concat(Math.trunc(M%60)," \u043c\u0438\u043d."):e(Math.trunc(M/1440),["\u0434\u043d\u0435\u0439","\u0434\u043d\u044f","\u0434\u0435\u043d\u044c"])}())),x&&I.rateTypeId.name&&c.a.createElement("p",{className:"total__list__item"},c.a.createElement("span",{className:"text"},"\u0422\u0430\u0440\u0438\u0444")," ",c.a.createElement("span",{className:"dots"}),c.a.createElement("span",{className:"text__dinamic"},I.rateTypeId.name)),x&&N&&c.a.createElement("p",{className:"total__list__item"},c.a.createElement("span",{className:"text"},"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"),c.a.createElement("span",{className:"dots"}),c.a.createElement("span",{className:"text__dinamic"},"\u0414\u0430")),y&&c.a.createElement("p",{className:"total__list__item"},c.a.createElement("span",{className:"text"},"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"),c.a.createElement("span",{className:"dots"}),c.a.createElement("span",{className:"text__dinamic"},"\u0414\u0430")),k&&c.a.createElement("p",{className:"total__list__item"},c.a.createElement("span",{className:"text"},"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"),c.a.createElement("span",{className:"dots"}),c.a.createElement("span",{className:"text__dinamic"},"\u0414\u0430")),c.a.createElement("p",{className:"total__sum"},c.a.createElement("span",null,"\u0418\u0442\u043e\u0433\u043e:")," ",C?"".concat(C," \u20bd"):E.priceMin?M>0&&I.price?"".concat(r()," \u20bd"):"".concat(E.priceMin," \u20bd - ").concat(E.priceMax," \u20bd"):"\u043e\u0442 8 000 \u0434\u043e 12 000 \u20bd"),O?S&&c.a.createElement(h,{title:"cancelled"===S.name?"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",type:"big-btn ".concat("cancelled"===S.name?"":"red-btn"," "),action:"cancelled"===S.name?function(){localStorage.removeItem("orderId"),w.push("/"),l("orderId","")}:function(){return u(!d)}}):c.a.createElement(h,{type:"big-btn",title:["\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e","\u0418\u0442\u043e\u0433\u043e","\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"][p],action:3===+p?function(){return u(!d)}:a,disable:function(e){switch(+e){case 0:return!f.id||!_.id;case 1:return!(f.id&&_.id&&x);case 2:return!(f.id&&_.id&&x&&b&&v&&I);case 3:default:return!1}}(p)}))))};var te=function(e){var t=e.getInfo,a=e.orderStatus,r=Object(H.h)().orderId,i=Object(n.useState)([]),o=Object(A.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(!1),d=Object(A.a)(m,2),u=d[0],p=d[1],h={"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"},f=Object(H.g)();return Object(n.useEffect)((function(){p(!1);var e=new AbortController;return fetch("".concat("https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/api/db/","order/").concat(r),{method:"GET",headers:h,signal:e.signal}).then((function(e){return e.json()})).then((function(e){var a=e.data;return s(a),t("orderId",r),t("orderStatus",a.orderStatusId.name),p(!0),a})).catch((function(){localStorage.removeItem("orderId"),t("orderId",""),t("orderStatus",""),f.push("/order-page/")})),function(){return e.abort()}}),[a]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"order-page__container__form"},u?c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"final-page__head"},function(e){switch(e){case"new":return"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0441\u043e\u0437\u0434\u0430\u043d:";case"issued":return"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u0438\u043d\u044f\u0442 \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f:";case"confirmed":return"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d:";case"cancelled":return"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043e\u0442\u043c\u0435\u043d\u0435\u043d:";default:return"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"}}(l.orderStatusId.name)),c.a.createElement(K,{carId:l.carId,dateFrom:l.dateFrom})):c.a.createElement("div",{className:"loader-container"},c.a.createElement(X,null))),c.a.createElement("div",{className:"order-page__container__total"},u&&c.a.createElement(ee,{getInfo:t,params:l})))};function ae(e){var t=e.value,a=e.action,n=e.description,r=e.completedStep;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"order-page__nav__btn",name:"currentStep",value:t,onClick:a,disabled:t>r?"disabled":""},n," ",3!==t&&c.a.createElement("span",null," \u25ba ")))}a(86);var ne=function(e){Object(S.a)(a,e);var t=Object(x.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this)).state={orderId:"",orderStatus:"new",currentStep:0,completedStep:0,cityId:{id:"",name:""},pointId:{id:"",name:""},car:"",carId:{},currentColor:"\u041b\u044e\u0431\u043e\u0439",dateFrom:0,dateTo:0,rateId:{rateTypeId:{},price:0},price:0,isFullTank:!1,isNeedChildChair:!1,isRightWheel:!1},e.handleChange=e.handleChange.bind(Object(z.a)(e)),e.handleClick=e.handleClick.bind(Object(z.a)(e)),e.stepNavigation=e.stepNavigation.bind(Object(z.a)(e)),e.getInfo=e.getInfo.bind(Object(z.a)(e)),e.getLocation=e.getLocation.bind(Object(z.a)(e)),e.getPrice=e.getPrice.bind(Object(z.a)(e)),e}return Object(O.a)(a,[{key:"componentDidMount",value:function(){if(!this.state.orderId){var e=localStorage.getItem("orderId");e&&this.setState({orderId:e})}}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;"cityId"!==a?this.setState(Object(q.a)({},a,n)):this.setState({cityId:{id:"",name:""},pointId:{id:"",name:""}})}},{key:"handleClick",value:function(e){var t=e.target.name;this.setState((function(e){return Object(q.a)({},t,!e[t])}))}},{key:"getLocation",value:function(e,t){this.setState((function(a){return"pointId"===e?Object(q.a)({cityId:t.cityId||a.cityId},e,t):Object(q.a)({},e,t)}))}},{key:"getInfo",value:function(e,t){this.setState(Object(q.a)({},e,t)),"orderId"===e&&localStorage.setItem("orderId",t)}},{key:"stepNavigation",value:function(){+this.state.currentStep===+this.state.completedStep?this.setState((function(e){return{currentStep:+e.currentStep+1,completedStep:+e.completedStep+1}})):this.setState((function(e){return{currentStep:+e.currentStep+1}}))}},{key:"getPrice",value:function(){var e=(new Date(this.state.dateTo)-new Date(this.state.dateFrom))/6e4,t=(this.state.isFullTank&&500)+(this.state.isNeedChildChair&&200)+(this.state.isRightWheel&&1600);return Math.round("\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u043e"===this.state.rateId.rateTypeId.name?e*this.state.rateId.price+t:e/1440*this.state.rateId.price+t)}},{key:"render",value:function(){var e=this,t=this.state,a=t.isNeedChildChair,n=t.isRightWheel,r=t.isFullTank,i=t.currentStep,o=t.currentColor,l=t.completedStep,s=t.dateFrom,m=t.carId,d=t.rateId,u=t.dateTo,p=t.cityId,h=t.pointId,f=t.orderId,_=t.orderStatus,E="https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/api/db/",g={"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"},b=[c.a.createElement(Z,{api:E,headers:g,action:this.handleChange,city:p,point:h,orderId:f,getLocation:this.getLocation}),c.a.createElement(Y,{actionCar:this.getInfo,api:E,headers:g,action:this.handleChange,currentCar:m.name}),c.a.createElement(V,{api:E,headers:g,action:this.handleChange,actionClick:this.handleClick,actionInfo:this.getInfo,currentColor:o,colors:m.colors,dateFrom:s,dateTo:u,options:[r,a,n],tariff:d.rateTypeId.name}),c.a.createElement(K,{carId:m,dateFrom:s})],v={orderStatusId:{name:"new",id:"5e26a191099b810b946c5d89"},cityId:{id:p.id},pointId:{id:h.id},carId:{id:m.id},color:o,dateFrom:+new Date(s),dateTo:+new Date(u),rateId:{id:d.id},price:this.getPrice(),isFullTank:r,isNeedChildChair:a,isRightWheel:n};return c.a.createElement("div",{className:"order-page"},c.a.createElement(F,null),f?c.a.createElement("div",{className:"final-page__nav"},c.a.createElement("p",null,"\u0417\u0430\u043a\u0430\u0437 \u043d\u043e\u043c\u0435\u0440 ","RU".concat(f.replace(/\D/gm,"")))):c.a.createElement("div",{className:"order-page__nav"},[{value:0,description:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"},{value:1,description:"\u041c\u043e\u0434\u0435\u043b\u044c"},{value:2,description:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"},{value:3,description:"\u0418\u0442\u043e\u0433\u043e"}].map((function(t){return c.a.createElement(ae,{key:t.value,value:t.value,description:t.description,action:e.handleChange,completedStep:l})}))),c.a.createElement("div",{className:"order-page__container"},c.a.createElement(H.d,null,c.a.createElement(H.b,{exact:!0,path:"/order-page/order/:orderId"},c.a.createElement(te,{api:E,orderStatus:_,getInfo:this.getInfo,headers:g}))),c.a.createElement(H.d,null,f&&c.a.createElement(H.a,{from:"/order-page/",to:"/order-page/order/".concat(f)}),c.a.createElement(H.b,{exact:!0,path:"/order-page/",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"order-page__container__form"},b[i]),c.a.createElement("div",{className:"order-page__container__total"},c.a.createElement(ee,{api:E,action:e.stepNavigation,params:e.state,getPrice:e.getPrice,orderData:v,getInfo:e.getInfo})))}}))))}}]),a}(c.a.Component);var ce=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(W,null),c.a.createElement(H.d,null,c.a.createElement(H.b,{exact:!0,path:"/",component:P}),c.a.createElement(H.b,{path:"/order-page/",component:ne})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(T.a,{basename:"/need-for-drive"},c.a.createElement(c.a.StrictMode,null,c.a.createElement(ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.09ed16fe.chunk.js.map